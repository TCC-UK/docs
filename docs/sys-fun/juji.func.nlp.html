<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>juji.func.nlp documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Juji Built-in Functions</span> <span class="project-version">1.2.17</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="juji.func.nlp.html"><div class="inner"><span>juji.func.nlp</span></div></a></li><li class="depth-1 "><a href="juji.func.system.html"><div class="inner"><span>juji.func.system</span></div></a></li><li class="depth-1 "><a href="juji.func.user.html"><div class="inner"><span>juji.func.user</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="juji.func.nlp.html#var-adj-noun-verb-pos-extract"><div class="inner"><span>adj-noun-verb-pos-extract</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-classify-greeting-answer"><div class="inner"><span>classify-greeting-answer</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-complex-content.3F"><div class="inner"><span>complex-content?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-contain-email"><div class="inner"><span>contain-email</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-contain-phone-number"><div class="inner"><span>contain-phone-number</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-contain-phone-number*"><div class="inner"><span>contain-phone-number*</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-contains-multiple-questions.3F"><div class="inner"><span>contains-multiple-questions?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-contains-non-English.3F"><div class="inner"><span>contains-non-English?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-age"><div class="inner"><span>extract-age</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-email"><div class="inner"><span>extract-email</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-email*"><div class="inner"><span>extract-email*</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-first-hobby"><div class="inner"><span>extract-first-hobby</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-first-name"><div class="inner"><span>extract-first-name</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-hobby"><div class="inner"><span>extract-hobby</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-name"><div class="inner"><span>extract-name</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-phone-number"><div class="inner"><span>extract-phone-number</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-phone-numbers*"><div class="inner"><span>extract-phone-numbers*</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-extract-why-u-here"><div class="inner"><span>extract-why-u-here</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-filter-trivial-noun-verb"><div class="inner"><span>filter-trivial-noun-verb</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-first-.3Esecond-person-reference"><div class="inner"><span>first-&gt;second-person-reference</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-informativeness"><div class="inner"><span>informativeness</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-input-contain-email*"><div class="inner"><span>input-contain-email*</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-input-in-white-list.3F"><div class="inner"><span>input-in-white-list?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-input-not-in-white-list.3F"><div class="inner"><span>input-not-in-white-list?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-input-user-question.3F"><div class="inner"><span>input-user-question?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-is-activity"><div class="inner"><span>is-activity</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-is-gibberish"><div class="inner"><span>is-gibberish</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-is-name"><div class="inner"><span>is-name</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-is-number"><div class="inner"><span>is-number</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-is-similar-to-any"><div class="inner"><span>is-similar-to-any</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-lemmatize-first-verb"><div class="inner"><span>lemmatize-first-verb</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-list-extracted-hobby-info"><div class="inner"><span>list-extracted-hobby-info</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-max-consq-repeat"><div class="inner"><span>max-consq-repeat</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-max-similarity-score"><div class="inner"><span>max-similarity-score</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-non-trivial-noun-verb-extract"><div class="inner"><span>non-trivial-noun-verb-extract</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-non-trivial-noun-verb-extract-from-input"><div class="inner"><span>non-trivial-noun-verb-extract-from-input</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-noun-phrase-extract"><div class="inner"><span>noun-phrase-extract</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-noun-verb-extract"><div class="inner"><span>noun-verb-extract</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-phrase-extract"><div class="inner"><span>phrase-extract</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-remove-transi-words"><div class="inner"><span>remove-transi-words</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-sentence-contain-email*"><div class="inner"><span>sentence-contain-email*</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-sim-query-url"><div class="inner"><span>sim-query-url</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-thin-text.3F"><div class="inner"><span>thin-text?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-trivial-noun-verb-set"><div class="inner"><span>trivial-noun-verb-set</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-user-question.3F"><div class="inner"><span>user-question?</span></div></a></li><li class="depth-1"><a href="juji.func.nlp.html#var-verb-phrase-extract"><div class="inner"><span>verb-phrase-extract</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">juji.func.nlp</h1><div class="doc"><div class="markdown"><p>Built-in functions that do natural language processing on user input</p></div></div><div class="public anchor" id="var-adj-noun-verb-pos-extract"><h3>adj-noun-verb-pos-extract</h3><div class="usage"><code>(adj-noun-verb-pos-extract text)</code></div><div class="doc"><div class="markdown"><p>Extract given adj, noun and verb pos tokens</p></div></div></div><div class="public anchor" id="var-classify-greeting-answer"><h3>classify-greeting-answer</h3><div class="usage"><code>(classify-greeting-answer rep captured-tokens)</code></div><div class="doc"><div class="markdown"><p>Classify answer to greeting question “What brings you here?” captured-tokens contain information we need to further classify. Ouput is a map of three key-value pairs: {:phrase the actual phrase captured,  :category the category it belongs to,  :type whether it is a NP or VP} for the purpose of display, the output is turned into a string.</p></div></div></div><div class="public anchor" id="var-complex-content.3F"><h3>complex-content?</h3><div class="usage"><code>(complex-content? rep input)</code></div><div class="doc"><div class="markdown"><p>Check if input contains more than :complex-content-threshold number of clauses as set in config</p></div></div></div><div class="public anchor" id="var-contain-email"><h3>contain-email</h3><div class="usage"><code>(contain-email rep)</code></div><div class="doc"><div class="markdown"><p>Check if the text input in rep contains email</p></div></div></div><div class="public anchor" id="var-contain-phone-number"><h3>contain-phone-number</h3><div class="usage"><code>(contain-phone-number rep)</code></div><div class="doc"><div class="markdown"><p>Check if the text input in rep contain phone number.</p></div></div></div><div class="public anchor" id="var-contain-phone-number*"><h3>contain-phone-number*</h3><div class="usage"><code>(contain-phone-number* text)</code></div><div class="doc"><div class="markdown"><p>Check if the text input contains US phone number.</p></div></div></div><div class="public anchor" id="var-contains-multiple-questions.3F"><h3>contains-multiple-questions?</h3><div class="usage"><code>(contains-multiple-questions? rep input)</code></div><div class="doc"><div class="markdown"><p>Returns true iff input has more than one question. Input needs to be &gt;=2 sentences.</p></div></div></div><div class="public anchor" id="var-contains-non-English.3F"><h3>contains-non-English?</h3><div class="usage"><code>(contains-non-English? rep input)</code></div><div class="doc"><div class="markdown"><p>Checks if there are non-English words in input. </p></div></div></div><div class="public anchor" id="var-extract-age"><h3>extract-age</h3><div class="usage"><code>(extract-age rep)</code></div><div class="doc"><div class="markdown"><p>Extract age from rep input. </p></div></div></div><div class="public anchor" id="var-extract-email"><h3>extract-email</h3><div class="usage"><code>(extract-email rep)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-extract-email*"><h3>extract-email*</h3><div class="usage"><code>(extract-email* text)</code></div><div class="doc"><div class="markdown"><p>Extract an email from the string if one exists otherwise return nil</p></div></div></div><div class="public anchor" id="var-extract-first-hobby"><h3>extract-first-hobby</h3><div class="usage"><code>(extract-first-hobby rep)</code></div><div class="doc"><div class="markdown"><p>Extract the first hobby from user input. If the input has no verb, return nil.</p></div></div></div><div class="public anchor" id="var-extract-first-name"><h3>extract-first-name</h3><div class="usage"><code>(extract-first-name rep)</code></div><div class="doc"><div class="markdown"><p>Extract the first name from rep input. Assume the format “first middle last”.</p></div></div></div><div class="public anchor" id="var-extract-hobby"><h3>extract-hobby</h3><div class="usage"><code>(extract-hobby rep)</code></div><div class="doc"><div class="markdown"><p>Extract hobby from rep input. The input can consist of multiple sentences. Hobby is extracted at clause level, assuming comma seperates hobbies. </p></div></div></div><div class="public anchor" id="var-extract-name"><h3>extract-name</h3><div class="usage"><code>(extract-name rep)</code></div><div class="doc"><div class="markdown"><p>Extract name from rep input..</p></div></div></div><div class="public anchor" id="var-extract-phone-number"><h3>extract-phone-number</h3><div class="usage"><code>(extract-phone-number rep)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-extract-phone-numbers*"><h3>extract-phone-numbers*</h3><div class="usage"><code>(extract-phone-numbers* text)</code><code>(extract-phone-numbers* text iso-country-code)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-extract-why-u-here"><h3>extract-why-u-here</h3><div class="usage"><code>(extract-why-u-here rep)</code></div><div class="doc"><div class="markdown"><p>Extract information from the greeting question “what brings you here?”</p></div></div></div><div class="public anchor" id="var-filter-trivial-noun-verb"><h3>filter-trivial-noun-verb</h3><div class="usage"><code>(filter-trivial-noun-verb tokens)</code></div><div class="doc"><div class="markdown"><p>Filter out trivial/non-important noun and verbs.</p></div></div></div><div class="public anchor" id="var-first-.3Esecond-person-reference"><h3>first-&gt;second-person-reference</h3><div class="usage"><code>(first-&gt;second-person-reference s)</code></div><div class="doc"><div class="markdown"><p>Change all first person references to second person references in the given string. Assume the input is a clause with punctuations filtered out. Return nil if input is nil.</p></div></div></div><div class="public anchor" id="var-informativeness"><h3>informativeness</h3><div class="usage"><code>(informativeness rep input)</code></div><div class="doc"><div class="markdown"><p>Calculate informativeness of user input in term of surprisal <a href="https://en.wikipedia.org/wiki/Information_content">https://en.wikipedia.org/wiki/Information_content</a></p></div></div></div><div class="public anchor" id="var-input-contain-email*"><h3>input-contain-email*</h3><div class="usage"><code>(input-contain-email* text)</code></div><div class="doc"><div class="markdown"><p>Check if the entire input contains email. Answers true or false.</p></div></div></div><div class="public anchor" id="var-input-in-white-list.3F"><h3>input-in-white-list?</h3><div class="usage"><code>(input-in-white-list? rep)</code></div><div class="doc"><div class="markdown"><p>Given certain inputs need to be whitelisted from gibberish for our business objectives. This function can be expand to include inputs that are considered gibberish in general, but have special means in our business environment.</p></div></div></div><div class="public anchor" id="var-input-not-in-white-list.3F"><h3>input-not-in-white-list?</h3><div class="usage"><code>(input-not-in-white-list? rep)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-input-user-question.3F"><h3>input-user-question?</h3><div class="usage"><code>(input-user-question? input)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-is-activity"><h3>is-activity</h3><div class="usage"><code>(is-activity rep tokens)</code><code>(is-activity tokens)</code></div><div class="doc"><div class="markdown"><p>Check if the sentence describes an activity or subject of an activity</p></div></div></div><div class="public anchor" id="var-is-gibberish"><h3>is-gibberish</h3><div class="usage"><code>(is-gibberish rep)</code></div><div class="doc"><div class="markdown"><p>Check if the user input is gibberish</p></div></div></div><div class="public anchor" id="var-is-name"><h3>is-name</h3><div class="usage"><code>(is-name rep tokens)</code><code>(is-name tokens)</code></div><div class="doc"><div class="markdown"><p>Check the token input is a name.</p></div></div></div><div class="public anchor" id="var-is-number"><h3>is-number</h3><div class="usage"><code>(is-number rep tokens)</code></div><div class="doc"><div class="markdown"><p>Check if the tokens represent number</p></div></div></div><div class="public anchor" id="var-is-similar-to-any"><h3>is-similar-to-any</h3><div class="usage"><code>(is-similar-to-any rep anchors)</code><code>(is-similar-to-any rep anchors threshold)</code></div><div class="doc"><div class="markdown"><p>Return true if the user input is similar to any of the anchors. If a threshold is provided, use the threshold to determin similarity; otherwise, 0.7 is used as threshold.</p></div></div></div><div class="public anchor" id="var-lemmatize-first-verb"><h3>lemmatize-first-verb</h3><div class="usage"><code>(lemmatize-first-verb s)</code></div><div class="doc"><div class="markdown"><p>Lemmatize the first verb in the given string input. Return nil if there’s no verb. </p></div></div></div><div class="public anchor" id="var-list-extracted-hobby-info"><h3>list-extracted-hobby-info</h3><div class="usage"><code>(list-extracted-hobby-info rep)</code></div><div class="doc"><div class="markdown"><p>Extract and list hobby info</p></div></div></div><div class="public anchor" id="var-max-consq-repeat"><h3>max-consq-repeat</h3><div class="usage"><code>(max-consq-repeat rep)</code></div><div class="doc"><div class="markdown"><p>Return the max number of consecutively repeated words in user input.</p></div></div></div><div class="public anchor" id="var-max-similarity-score"><h3>max-similarity-score</h3><div class="usage"><code>(max-similarity-score rep anchors)</code></div><div class="doc"><div class="markdown"><p>Calculate the sentence similarity of user input against the anchors, which is a vector of sentence strings. Return the max similarity score. If an error has occurred, similarity score of 0 will be returned.</p></div></div></div><div class="public anchor" id="var-non-trivial-noun-verb-extract"><h3>non-trivial-noun-verb-extract</h3><div class="usage"><code>(non-trivial-noun-verb-extract text)</code></div><div class="doc"><div class="markdown"><p>Extract non-trivial verbs, nouns and adjs defined by function noun-verb-extract.</p></div></div></div><div class="public anchor" id="var-non-trivial-noun-verb-extract-from-input"><h3>non-trivial-noun-verb-extract-from-input</h3><div class="usage"><code>(non-trivial-noun-verb-extract-from-input rep)</code></div><div class="doc"><div class="markdown"><p>Extract non-trivial nouns, verbs and adjs defined by function noun-verb-extract from the user input.</p></div></div></div><div class="public anchor" id="var-noun-phrase-extract"><h3>noun-phrase-extract</h3><div class="usage"><code>(noun-phrase-extract text)</code></div><div class="doc"><div class="markdown"><p>Extract all noun phrases from the current input. The phrases will presented in the same order as the input.</p></div></div></div><div class="public anchor" id="var-noun-verb-extract"><h3>noun-verb-extract</h3><div class="usage"><code>(noun-verb-extract text)</code></div><div class="doc"><div class="markdown"><p>Extract all tokens that have both noun/verb/adj pos and noun/verb phrase tags.</p></div></div></div><div class="public anchor" id="var-phrase-extract"><h3>phrase-extract</h3><div class="usage"><code>(phrase-extract text phrase-type)</code></div><div class="doc"><div class="markdown"><p>Extract given type phrase except type “O”.</p></div></div></div><div class="public anchor" id="var-remove-transi-words"><h3>remove-transi-words</h3><div class="usage"><code>(remove-transi-words tokens)</code></div><div class="doc"><div class="markdown"><p>remove the transitional words at the beginning of the clause</p></div></div></div><div class="public anchor" id="var-sentence-contain-email*"><h3>sentence-contain-email*</h3><div class="usage"><code>(sentence-contain-email* text)</code></div><div class="doc"><div class="markdown"><p>Check if the sentence contains email. Answers true or false.</p></div></div></div><div class="public anchor" id="var-sim-query-url"><h3>sim-query-url</h3><div class="usage"><code>(sim-query-url anchors subject)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-thin-text.3F"><h3>thin-text?</h3><div class="usage"><code>(thin-text? rep input)</code></div><div class="doc"><div class="markdown"><p>Checks if the user input is thin, i.e. not saying much.</p></div></div></div><div class="public anchor" id="var-trivial-noun-verb-set"><h3>trivial-noun-verb-set</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-user-question.3F"><h3>user-question?</h3><div class="usage"><code>(user-question? rep)</code></div><div class="doc"><div class="markdown"><p>Check if user input contains a question</p></div></div></div><div class="public anchor" id="var-verb-phrase-extract"><h3>verb-phrase-extract</h3><div class="usage"><code>(verb-phrase-extract text)</code></div><div class="doc"><div class="markdown"><p>Extract all the noun phrases from the current input. The phrases will presented in the same order as the input.</p></div></div></div></div></body></html>