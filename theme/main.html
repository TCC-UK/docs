{% extends "base.html" %}

{% block content %}
  {% if page.meta.no_toc %}
    <div class="md-content-no-toc">
  {% else %}
    <div class="md-content">
  {% endif %}
        <article class="md-content__inner md-typeset">
            {% if page.edit_url %}
            <a href="{{ page.edit_url }}" title="{{ lang.t('edit.link.title') }}" class="md-icon md-content__icon">&#xE3C9;</a>
            {% endif %}
            {% if not "\x3ch1" in page.content %}
            <h1>{{ page.title | default(config.site_name, true)}}</h1>
            {% endif %}
            {{ page.content }}
            {% block source %}
            {% if page and page.meta and page.meta.source %}
                <h2 id="__source">{{ lang.t("meta.source") }}</h2>
                {% set repo = config.repo_url %}
                {% if repo | last == "/" %}
                {% set repo = repo[:-1] %}
                {% endif %}
                {% set path = page.meta.path | default([""]) %}
                {% set file = page.meta.source %}
                <a href="{{ [repo, path, file] | join('/') }}" title="{{ file }}" class="md-source-file">
                {{ file }}
                </a>
            {% endif %}
            {% endblock %}
        {% endblock %}
        {% block disqus %}
            {% include "partials/integrations/disqus.html" %}
        </article>
    </div>
{% endblock %}


{% block site_nav %}
    {% if nav %}
    <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
        <div class="md-sidebar__scrollwrap">
            <div class="md-sidebar__inner">
                {% include "partials/nav.html" %}
            </div>
        </div>
    </div>
    {% endif %}
    {% if page.toc and not page.meta.no_toc %}
    <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
        <div class="md-sidebar__scrollwrap">
            <div class="md-sidebar__inner">
                {% include "partials/toc.html" %}
            </div>
        </div>
    </div>
    {% endif %}
{% endblock %}
